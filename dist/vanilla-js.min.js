var hasClassList="classList"in document.createElement("p");function onPageReady(b){"loading"!==document.readyState&&b();document.addEventListener("DOMContentLoaded",b)}function onPageLoad(b){"complete"===document.readyState&&b();window.addEventListener("load",b)}var $=document.querySelector.bind(document),$all=document.querySelectorAll.bind(document),$forEach=function(b,d,a){for(var c=0;c<b.length;c++)d.call(a,b[c],c)};NodeList.prototype.first=function(){return this.item(0)};
function $find(b,d){return b.querySelectorAll(d)}function $prepend(b){document.head.insertAdjacentHTML("afterbegin",b)}function $append(b){document.body.insertAdjacentHTML("beforeend",b)}function $disableScreenScrolling(){document.body.style.touchAction="none";$addClass(document.body,"bp-disable-scroll")}function $restoreScreenScrolling(){document.body.style.touchAction="";$removeClass(document.body,"bp-disable-scroll")}function $addClass(b,d){hasClassList?b.classList.add(d):b.className+=" "+d}
function $removeClass(b,d){hasClassList?b.classList.remove(d):b.className=b.className.replace(RegExp("(^|\\b)"+d.split(" ").join("|")+"(\\b|$)","gi")," ")}function $hasClass(b,d){return hasClassList?b.classList.contains(d):RegExp("(^| )"+d+"( |$)","gi").test(b.className)}function $toggleClass(b,d){if(b.classList)b.classList.toggle(d);else{var a=b.className.split(" "),c=a.indexOf(d);0<=c?a.splice(c,1):a.push(d);b.className=a.join(" ")}}function $hide(b){b.style.display="none"}
function $show(b,d){b.style.display=d?d:""}function $detectSwipe(b,d,a){var c=0,g=0,f=0,e=0;a||(a=50);b.addEventListener("touchstart",function(a){c=a.changedTouches[0].screenX;g=a.changedTouches[0].screenY},{passive:!0});b.addEventListener("touchend",function(b){f=b.changedTouches[0].screenX;e=b.changedTouches[0].screenY;var h=f-c,k=e-g;if(Math.abs(h)>Math.abs(k)){if(Math.abs(h)>a)return 0>h?d("left",b):d("right",b)}else if(Math.abs(k)>a)return 0<k?d("down",b):d("up",b)})}
function $triggerEvent(b,d){var a=document.createEvent("Event");a.initEvent(d,!0,!0);("string"===typeof b||b instanceof String?$(b):b).dispatchEvent(a)}function $on(b,d,a){$all(b).forEach(function(c){c.addEventListener(d,function(g){a(g,c)},!1)})}Array.prototype.unique=function(){var b={};return this.filter(function(d){return b.hasOwnProperty(d)?!1:b[d]=!0})};var lightboxInstanceCount=0;
function $lightbox(b,d){var a={initialized:!1,modalId:null,modal:null,modalImage1:null,modalImage2:null,modalCaption:null,modalNext:null,modalPrev:null,images:[],currentIndex:0,singleMode:!1,isOpen:!1,insertCss:function(){$("#lightbox-inline-css")||$prepend('<style id="lightbox-inline-css">.lightbox-modal{position:fixed;top:0;left:0;width:100%;height:100%;background:#000;z-index:2;pointer-events:none;opacity:0;transform:scale(0);transition:opacity .4s ease-in-out, transform .3s ease-in-out;}.lightbox-modal.open{pointer-events:auto;display:block;opacity:1;transform:scale(1);}.lightbox-modal img{position:absolute;top:0;left:0;right:0;bottom:0;width:100%;height:100vh;object-fit:contain;opacity:0;transition:all .4s ease-in-out}.lightbox-close{position:absolute;top:10px;right:10px;font-size:3rem;cursor:pointer;}.lightbox-next,.lightbox-prev{position:absolute;top:calc(50% - 50px);font-size:6rem;line-height:100px;cursor:pointer;}.lightbox-modal.singleMode .lightbox-next,.lightbox-modal.singleMode .lightbox-prev{display:none}.lightbox-next{right:10px;}.lightbox-prev{left:10px;}</style>')},insertModal:function(){lightboxInstanceCount++;
a.modalId="lightbox-modal-"+lightboxInstanceCount;$append('<div id="'+a.modalId+'" class="lightbox-modal">\n<figure><img alt=""><img alt=""><figcaption/></figure>\n<div class="lightbox-close">&times;</div>\n<div class="lightbox-next">&rsaquo;</div>\n<div class="lightbox-prev">&lsaquo;</div>\n</div>')},checkModal:function(){a.insertModal();a.modal=$("#"+a.modalId);var c=$find(a.modal,"img");a.modalImage1=c[0];a.modalImage2=c[1];a.modalCaption=$find(a.modal,"figcaption").first();c=$find(a.modal,".lightbox-close").first();
a.modalNext=$find(a.modal,".lightbox-next").first();a.modalPrev=$find(a.modal,".lightbox-prev").first();$detectSwipe(a.modal,function(c){a.isOpen&&("left"===c?a.next():"right"===c?a.prev():a.hide())});window.addEventListener("keydown",function(c){if(a.isOpen){var b=c.key;"ArrowRight"===b?(c.preventDefault(),c.stopImmediatePropagation(),a.next()):"ArrowLeft"===b?(c.preventDefault(),c.stopImmediatePropagation(),a.prev()):"Escape"===b?(c.preventDefault(),c.stopImmediatePropagation(),a.hide()):" "===
b?(c.preventDefault(),c.stopImmediatePropagation(),a.next()):"s"===b&&!0===c.ctrlKey&&(c.preventDefault(),c.stopImmediatePropagation(),a.next())}});c.addEventListener("click",function(c){c.preventDefault();c.stopImmediatePropagation();a.hide()});a.modalImage1.addEventListener("click",function(c){c.preventDefault();c.stopImmediatePropagation();a.next()});a.modalImage2.addEventListener("click",function(c){c.preventDefault();c.stopImmediatePropagation();a.next()});a.modalImage1.addEventListener("load",
function(){a.modalImage1.style.opacity="1";a.modalImage2.style.opacity="0"});a.modalImage2.addEventListener("load",function(){a.modalImage2.style.opacity="1";a.modalImage1.style.opacity="0"});a.modalNext.addEventListener("click",function(c){c.preventDefault();c.stopImmediatePropagation();a.next()});a.modalPrev.addEventListener("click",function(c){c.preventDefault();c.stopImmediatePropagation();a.prev()})},scanElement:function(c){var b=c.getAttribute("data-src")||c.getAttribute("href")||c.getAttribute("src");
if(b){var d=c.getAttribute("data-title")||c.getAttribute("title")||c.getAttribute("alt");if(!d){var e=$find(c,"img").first();e&&(d=e.getAttribute("data-title")||e.getAttribute("title")||e.getAttribute("alt"));if(!d&&(e=$find(c,"figcaption").first()))d=e.innerText}a.images.push([b,d])}else console.warn("$lightbox: element has no valid image url",c)},checkImages:function(){$all(b).forEach(function(c){d?$find(c,d).forEach(function(c){a.scanElement(c)}):a.scanElement(c)});1===a.images.length&&(a.singleMode=
!0,$addClass(a.modal,"singleMode"))},bootstrap:function(){a.initialized||(a.checkModal(),a.checkImages(),a.initialized=!0)},switchImage:function(c){a.currentIndex=c;var b=null,d=null;0===a.currentIndex%2?(b=a.modalImage1,d=a.modalImage2):(b=a.modalImage2,d=a.modalImage1);d.setAttribute("title","");a.modalCaption.innerText="";b.src=a.images[c][0];if(c=a.images[c][1])b.setAttribute("title",c),a.modalCaption.innerText=c},show:function(c){a.hide();a.switchImage(c);a.isOpen=!0;$disableScreenScrolling();
setTimeout(function(){$addClass(a.modal,"open")},0);a.preloadImages()},preloadImages:function(){a.images.map(function(a){return a[0]}).unique().slice(1).forEach(function(a){(new Image).src=a})},hide:function(){a.isOpen=!1;$removeClass(a.modal,"open");$restoreScreenScrolling();a.modalImage1.style.opacity="0";a.modalImage2.style.opacity="0"},next:function(){if(!a.singleMode){var c=a.currentIndex+1;if(c<a.images.length)return a.switchImage(c)}a.hide()},prev:function(){if(!a.singleMode){var c=a.currentIndex-
1;if(0<=c)return a.switchImage(c)}a.hide()},detectUrl:function(c){c=c.getAttribute("data-src")||c.getAttribute("href")||c.getAttribute("src");for(var b=0;b<a.images.length;b++)if(a.images[b][0]===c)return b;return!1}};a.insertCss();$on(b,"click",function(c){a.bootstrap();if(0===a.images.length)console.warn("$lightbox: no images found");else{for(var d=c.target,f=a.detectUrl(d);!1===f;){if(d.matches(b)){console.warn("$lightbox: clicked element url not found in main selector");return}d=d.parentNode;
if("function"!==typeof d.getAttribute){console.error("$lightbox: cannot find the clicked element in document");return}f=a.detectUrl(d)}c.preventDefault();c.stopImmediatePropagation();return a.show(f)}});return{}};function $lazyload(b,d){var a={};if(!1 in window)console.warn("$lazyload: not supported.");else return a.images=[],a.options={autoLoad:!1,cancelInitialLoad:!1},a.options=Object.assign(a.options,d),a.preloadImage=function(a){var b=a.getAttribute("data-src");if(b&&(a.removeAttribute("data-src"),$addClass(a,"lazyloading"),a.onload=function(){$addClass(a,"lazyloaded");$removeClass(a,"lazyloading")},a.setAttribute("src",b),b=a.getAttribute("data-srcset")))a.removeAttribute("data-srcset"),a.setAttribute("srcset",
b)},onPageReady(function(){var c=new IntersectionObserver(function(c,b){c.forEach(function(c){c.isIntersecting&&(a.preloadImage(c.target),b.unobserve(c.target))})},{rootMargin:"400px",threshold:0});a.images=[];$all(b).forEach(function(b){if(a.options.cancelInitialLoad){var d=b.getAttribute("src");d&&(b.removeAttribute("src"),b.setAttribute("data-src",d))}b.hasAttribute("data-src")&&(b.src="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=",$addClass(b,"lazyloading"),d=b.getAttribute("srcset"),
b.removeAttribute("srcset"),d&&b.setAttribute("data-srcset",d),c.observe(b),a.images.push(b))});a.options.autoLoad&&onPageLoad(function(){a.images.forEach(function(b,c){setTimeout(function(){a.preloadImage(b)},1E3*(c+2))})})}),{}}
"IntersectionObserver"in window&&("IntersectionObserverEntry"in window&&"intersectionRatio"in window.IntersectionObserverEntry.prototype&&!("isIntersecting"in IntersectionObserverEntry.prototype))&&Object.defineProperty(window.IntersectionObserverEntry.prototype,"isIntersecting",{get:function(){return 0<this.intersectionRatio}});function $copyright(b){var d;d=b||"This material is copyright by the author - All Right Reserved";document.body.addEventListener("contextmenu",function(a){console.warn(d);a.preventDefault();return!1},!1);document.body.addEventListener("copy",function(a){console.warn(d);a.preventDefault();a.clipboardData.setData("text/plain",d);return!1},!1);document.body.addEventListener("dragstart",function(a){console.warn(d);a.preventDefault();return!1},!1)};function $inViewport(b){b=b.getBoundingClientRect();var d=document.documentElement,a=0.05*(window.innerHeight||d.clientHeight);return 0<=b.top&&b.top+a<=(window.innerHeight||d.clientHeight)}function $windowScrollTop(){return window.scrollY||document.body.scrollTop||document.documentElement.scrollTop}
function $visibility(b,d){var a={};a.options=Object.assign({invisibleClass:"invisible",visibleClass:"animated",loop:!0},d);a.refreshList=function(){$forEach(a.nodeList,function(b,d){if($inViewport(b))$hasClass(b,a.options.visibleClass)||($removeClass(b,a.options.invisibleClass),$addClass(b,a.options.visibleClass));else{if($hasClass(b,a.options.visibleClass)){if(!a.options.loop)return;$removeClass(b,a.options.visibleClass)}$addClass(b,a.options.invisibleClass)}})};a.nodeList=Array.prototype.slice.call($all(b));
a.refreshList();0<a.nodeList.length?document.addEventListener("scroll",a.refreshList):console.warn("$visibility: no hidden elements");return{}};
